(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(48)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),s=n.n(o);n(30),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(4),i=n(5),u=n(7),l=n(6),m=n(8),d=(n(31),n(18)),h=n(52),g=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{style:{backgroundColor:"#060CE9",minHeight:"5.5em",margin:"0em -0.5em",padding:"0.5em 1em",textAlign:"center",fontFamily:"Arial",fontWeight:"bold",color:"white"}},this.props.category?this.props.category.toUpperCase():"[No category]"))}}]),t}(a.Component),f=(n(32),n(53)),p=n(54),b=n(19),y=n.n(b);y.a.initializeApp({apiKey:"AIzaSyDJ9M458uPIFu7jejJELsrplsE7P-NA9rs",authDomain:"jeopardy-4c8d6.firebaseapp.com",databaseURL:"https://jeopardy-4c8d6.firebaseio.com",projectId:"jeopardy-4c8d6",storageBucket:"jeopardy-4c8d6.appspot.com",messagingSenderId:"247329087579",appId:"1:247329087579:web:170c2ce39ef16464aedf7e",measurementId:"G-W0BN5K0KPS"});var E=y.a,v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).questionChosen=function(e,t,a){console.log("Chosen: "+t+" for "+a),console.log(n.state.game[e][t][a].question),console.log("Answer: "+n.state.game[e][t][a].answer),29===n.state.questionsDone.size?(console.log("jeopardy round over"),n.setState({currentRound:"doubleJeopardy"})):59===n.state.questionsDone.size&&(console.log("double jeopardy round over"),n.setState({currentRound:"finalJeopardy"}));var r={round:e,category:t,value:a};n.setState(function(e){return{questionsDone:e.questionsDone.add(t+a),questionInProgress:r,firstBuzz:""}}),n.gameref.set({currentQuestion:n.state.game[e][t][a].question,currentAnswer:n.state.game[e][t][a].answer,buzzer:"closed"})},n.questionAnswered=function(e,t){n.setState(function(n){return Object(d.a)({questionInProgress:{}},t,n[t]+parseInt(e.substring(1)))}),console.log("".concat(t," gets ").concat(e,"!"))},n.questionAnsweredWrong=function(e,t){n.setState(function(n){return Object(d.a)({},t,n[t]-parseInt(e.substring(1)))}),console.log("".concat(t," loses ").concat(e,"!"))},n.questionNotAnswered=function(){n.setState(function(e){return{questionInProgress:{}}})},n.readyForBuzz=function(){n.setState({firstBuzz:""}),n.gameref.set({buzzer:"open"},{merge:!0})},n.state={game:{},questionsDone:new Set([]),questionInProgress:{},player1:0,player2:0,player3:0,currentRound:"jeopardy",firstBuzz:""},n.db=E.firestore(),n.gameref=n.db.collection("currentGames").doc(n.props.gameCode),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.db.collection("games").doc(this.props.date).get().then(function(e){if(e.exists)return e.data();console.log("No such document!")}).then(function(t){return e.setState({game:t})}).catch(function(e){console.log("Error getting document:",e)}),this.gameref.onSnapshot(function(t){if(t.exists){var n=t.data();"1"!==n.buzzer&&"2"!==n.buzzer&&"3"!==n.buzzer||e.setState({firstBuzz:n.buzzer})}})}},{key:"render",value:function(){var e=this;if(!this.state.game.hasOwnProperty("jeopardy"))return r.a.createElement("div",null," loading game ");if(this.state.questionInProgress.hasOwnProperty("round"))return r.a.createElement("div",{className:"question-screen"},r.a.createElement("div",null,this.state.game[this.state.questionInProgress.round][this.state.questionInProgress.category][this.state.questionInProgress.value].question),r.a.createElement("div",{className:"first-buzz"},this.state.firstBuzz?"Player ".concat(this.state.firstBuzz,"!"):null),r.a.createElement("div",null,r.a.createElement("button",{className:"player-button",onClick:function(){return e.questionAnswered(e.state.questionInProgress.value,"player1")}},"Player 1 Right"),r.a.createElement("button",{className:"player-button",onClick:function(){return e.questionAnswered(e.state.questionInProgress.value,"player2")}},"Player 2 Right"),r.a.createElement("button",{className:"player-button",onClick:function(){return e.questionAnswered(e.state.questionInProgress.value,"player3")}},"Player 3 Right")),r.a.createElement("div",null,r.a.createElement("button",{className:"player-button2",onClick:function(){return e.questionAnsweredWrong(e.state.questionInProgress.value,"player1")}},"Player 1 Wrong"),r.a.createElement("button",{className:"player-button2",onClick:function(){return e.questionAnsweredWrong(e.state.questionInProgress.value,"player2")}},"Player 2 Wrong"),r.a.createElement("button",{className:"player-button2",onClick:function(){return e.questionAnsweredWrong(e.state.questionInProgress.value,"player3")}},"Player 3 Wrong")),r.a.createElement("div",null,r.a.createElement("button",{className:"player-button2",onClick:function(){return e.questionNotAnswered()}},"No Answer")),r.a.createElement("div",null,r.a.createElement("button",{className:"player-button2",onClick:function(){return e.readyForBuzz()}},"Ready For Buzz")));if("finalJeopardy"===this.state.currentRound)return r.a.createElement("div",{className:"question-screen"},r.a.createElement("div",null,this.state.game.finalJeopardy.category),r.a.createElement("div",null,r.a.createElement("button",{className:"player-button",onClick:function(){return e.setState({currentRound:"finalJeopardyQuestion"})}},"Continue")));if("finalJeopardyQuestion"===this.state.currentRound)return console.log("Answer: "+this.state.game.finalJeopardy.answer),r.a.createElement("div",{className:"question-screen"},r.a.createElement("div",null,this.state.game.finalJeopardy.question),r.a.createElement("div",null,r.a.createElement("button",{className:"player-button",onClick:function(){return e.setState({currentRound:"finalJeopardyAnswer"})}},"Show Answer")));if("finalJeopardyAnswer"===this.state.currentRound)return r.a.createElement("div",{className:"question-screen"},r.a.createElement("div",null,this.state.game.finalJeopardy.answer));var t=[];return"jeopardy"===this.state.currentRound?t=["$200","$400","$600","$800","$1000"]:"doubleJeopardy"===this.state.currentRound&&(t=["$400","$800","$1200","$1600","$2000"]),r.a.createElement(f.a,{style:{backgroundColor:"gray",marginTop:"0.5em",padding:"0.5em"}},r.a.createElement(p.a,{style:{display:"flex",flexWrap:"wrap",minHeight:"10em",marginBottom:"-3em"}},Object.keys(this.state.game[this.state.currentRound]).map(function(e,t){return r.a.createElement(g,{category:e,key:t})})),t.map(function(t,n){return r.a.createElement(p.a,{key:n},Object.keys(e.state.game[e.state.currentRound]).map(function(n,a){return r.a.createElement(h.a,{key:a},r.a.createElement("button",{className:"question-tile",onClick:function(){return e.questionChosen(e.state.currentRound,n,t)}},e.state.questionsDone.has(n+t)?"":t))}))}),r.a.createElement(p.a,{className:"scores"},r.a.createElement(h.a,null,"Player 1: $",this.state.player1),r.a.createElement(h.a,null,"Player 2: $",this.state.player2),r.a.createElement(h.a,null,"Player 3: $",this.state.player3)),r.a.createElement(p.a,{className:"scores"},r.a.createElement(h.a,null,r.a.createElement("h2",null,"Game Code: ",this.props.gameCode))))}}]),t}(a.Component),C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={date:"",dates:[]},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=E.firestore(),n=[];t.collection("games").get().then(function(e){return e.forEach(function(e){n.push(e.id)}),n}).then(function(t){return e.setState({dates:t})})}},{key:"render",value:function(){var e=this;return""===this.state.date?r.a.createElement("div",null,r.a.createElement("p",null,"please select date"),this.state.dates.map(function(t,n){return r.a.createElement("button",{key:n,onClick:function(){e.setState({date:t})}},t)})):r.a.createElement(v,{date:this.state.date,gameCode:this.props.gameCode})}}]),t}(a.Component),z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).buzzIn=function(e){n.state.ready&&n.gameref.set({buzzer:e},{merge:!0})},n.state={ready:!1},n.db=E.firestore(),n.gameref=n.db.collection("currentGames").doc(n.props.gameCode),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.gameref.onSnapshot(function(t){"open"===t.data().buzzer?e.setState({ready:!0}):e.setState({ready:!1})})}},{key:"render",value:function(){var e=this,t=this.state.ready?"buzzer-button":"buzzer-inactive";return r.a.createElement("div",null,r.a.createElement("h2",null,"Buzzer for player ",this.props.player),r.a.createElement("button",{className:t,onClick:function(){return e.buzzIn(e.props.player)}},this.state.ready?"buzz":"not yet"))}}]),t}(a.Component),k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={question:"",answer:""},n.db=E.firestore(),n.gameref=n.db.collection("currentGames").doc(n.props.gameCode),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.gameref.onSnapshot(function(t){var n=t.data();e.setState({question:n.currentQuestion,answer:n.currentAnswer})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,this.state.question),r.a.createElement("h2",null,this.state.answer))}}]),t}(a.Component),w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){n.setState({gameCode:e.target.value})},n.handleSubmit=function(e){n.db.collection("currentGames").doc(n.state.gameCode).get().then(function(e){e.exists?n.setState({gameCodeSet:!0}):alert("game doesn't exist! try again or generate new game")}),e.preventDefault()},n.makeCode=function(){for(var e="ABCDEFGHIJKLMNPQRSTUVWXYZ123456789",t="",n=0;n<4;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},n.checkGameUnique=function(e){return n.db.collection("currentGames").doc(e).get().then(function(e){if(!e.exists)return console.log("within function: returning true"),!0})},n.createGame=function(){var e=n.makeCode();n.checkGameUnique(e).then(function(t){t?n.db.collection("currentGames").doc(e).set({currentQuestion:"",currentAnswer:"",buzzer:"closed"}).then(function(){n.setState({gameCode:e,gameCodeSet:!0})}):n.createGame()})},n.state={gameCode:"",gameCodeSet:!1,choice:""},n.db=E.firestore(),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.gameCodeSet?""===this.state.choice?r.a.createElement("div",null,r.a.createElement("h1",null,"Choose Screen"),r.a.createElement("button",{onClick:function(){e.setState({choice:"gameboard"})}},"Game Board"),r.a.createElement("button",{onClick:function(){e.setState({choice:"buzzer1"})}},"Player 1"),r.a.createElement("button",{onClick:function(){e.setState({choice:"buzzer2"})}},"Player 2"),r.a.createElement("button",{onClick:function(){e.setState({choice:"buzzer3"})}},"Player 3"),r.a.createElement("button",{onClick:function(){e.setState({choice:"trebek"})}},"Trebek")):"gameboard"===this.state.choice?r.a.createElement(C,{gameCode:this.state.gameCode}):"buzzer1"===this.state.choice?r.a.createElement(z,{player:"1",gameCode:this.state.gameCode}):"buzzer2"===this.state.choice?r.a.createElement(z,{player:"2",gameCode:this.state.gameCode}):"buzzer3"===this.state.choice?r.a.createElement(z,{player:"3",gameCode:this.state.gameCode}):"trebek"===this.state.choice?r.a.createElement(k,{gameCode:this.state.gameCode}):void 0:r.a.createElement("div",null,r.a.createElement("h1",null,"Enter Game Code or Start New Game"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Game Code:",r.a.createElement("input",{type:"text",value:this.state.gameCode,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Submit"})),r.a.createElement("button",{onClick:function(){return e.createGame()}},"Create New Game"))}}]),t}(a.Component);s.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.26a8b498.chunk.js.map